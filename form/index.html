---
layout: form
title: "Formulaire"
source: "Formulaire de test"
champs :
 - type: champ_libre_court
   nom: "email"
   actif: true
   requis: true
   texte: "Veuillez entrer votre email (Obligatoire)"
   message_erreur: "Email invalide"
   placeholder: "Email *"
   controle: email
   reponses:
    - valeur:
 - type: champ_libre_court
   nom: "email-non-requis"
   actif: true
   requis: false
   texte: "Veuillez entrer votre email"
   message_erreur: "Email invalide"
   placeholder: "Email"
   controle: email
   reponses:
    - valeur:
 - type: champ_libre_court
   nom: "phone"
   actif: true
   requis: true
   texte: "Veuillez entrer votre numéro de téléphone (Obligatoire)"
   message_erreur: "Numéro de téléphone invalide"
   placeholder: "Téléphone *"
   controle: telephone
   reponses:
    - valeur:
 - type: champ_libre_court
   nom: "phone-non-requis"
   actif: true
   requis: false
   texte: "Veuillez entrer votre numéro de téléphone"
   message_erreur: "Numéro de téléphone invalide"
   placeholder: "Téléphone"
   controle: telephone
   reponses:
    - valeur:
 - type: choix_unique
   nom: "optin"
   actif: true
   requis: true
   texte: "Optin (Obligatoire) :"
   message_erreur: "Vous devez faire un choix"
   placeholder:
   controle:
   reponses:
    - valeur: Oui
    - valeur: Non
 - type: choix_unique
   nom: "optin-non-requis"
   actif: true
   requis: false
   texte: "Optin :"
   message_erreur: "Vous devez faire un choix"
   placeholder:
   controle:
   reponses:
    - valeur: Oui
    - valeur: Non
bouton_de_soumission: "Envoyer"
page_de_remerciement: "https://google.com"

_comments:
  nom: "Obligatoire et unique. Description courte du champ"
  texte: Ce champ peut etre vide
  placeholder: Seulement pour les champs de type "champ libre"
  controle: Seulement pour les champs de type "champ libre"
  reponses: Seulement pour les champs de type "choix"
  page_de_remerciement: "URL de la page lorsque l'utilisateur valide le formulaire"
---

<div class="row">
  <div class="large-12 columns">
    <h1>adfinitas.cx - Formulaire</h1>
  </div>
</div>

<form class="adfinitas-cx" novalidate data-source="{{ page.source }}" data-success="{{ page.page_de_remerciement }}">

  {% assign inputId=0 %}
  {% for champ in page.champs %}
    {% if champ.actif == true %}
      <div class="row field-row">
        <div class="large-12 columns">
        {% case champ.type %}
        {% when 'champ_libre_court' %}
	  {% if champ.texte != nill and champ.texte != empty %}
	    <label class="label-champ_libre_court" for="input-{{ inputId }}">
	      {{ champ.texte }}
	    </label>
	  {% endif %}
          <input id="input-{{ inputId }}"
		 {% assign inputClasses = site.array %}
		 {% assign inputClasses = inputClasses
			   | push: 'input-champ_libre_court ' %}
		 {% if champ.controle == "email" %}
		 {% assign inputClasses = inputClasses
			   | push: 'check-email ' %}
                 type="email"
		 {% elsif champ.controle == "telephone" %}
		 {% assign inputClasses = inputClasses
			   | push: 'check-phone ' %}
		 type="text"
		 {% else %}
                 type="text"
		 {% endif %}
                 placeholder="{{ champ.placeholder }}"
		 name="{{ champ.nom }}"
                 {% if champ.requis == true %}
		 required
		 {% endif %}
		 class="{{ inputClasses }}"
          />
	  {% assign inputId=inputId | plus:1 %}
          <p class="error-message">{{ champ.message_erreur }}</p>
        {% when 'champ_libre_long' %}
	  <p>TODO</p>
        {% when 'liste_deroulante' %}
	  <p>TODO</p>
        {% when 'choix_unique' %}
	  {% if champ.texte != nill and champ.texte != empty %}
	    <p class="texte-choix_multiple">{{ champ.texte }}</p>
	  {% endif %}
	  {% for reponse in champ.reponses %}
	    <input class="input-choix_multiple" type="radio" id="input-{{ inputId }}"
	           value="{{ reponse.valeur}}"
	           name="{{ champ.nom }}"
                   {% if champ.requis == true %}
	           required
	           {% endif %}
	    />
	    <label class="label-choix_multiple" for="input-{{ inputId }}">
	      {{ reponse.valeur}}
      	    </label>
	    {% assign inputId=inputId | plus:1 %}
	  {% endfor %}
	  <p class="error-message">{{ champ.message_erreur }}</p>
        {% when 'choix_multiple' %}
	  <p>TODO</p>
        {% when 'champ_caché' %}
	  <p>TODO</p>
	{% else %}
	  <p style="color: red">[Erreur]: Type de champ inconnu: {{ champ.type }}</p>
        {% endcase %}
        </div>
      </div>
    {% endif %}
  {% endfor %}

  <div class="row field-row">
    <div class="large-12 columns">
      <input type="submit" value="Envoyer">
    </div>
  </div>

</form>
